---
import logo from "../assets/logo_standard.svg";
import { getRelativeLocaleUrl } from "astro:i18n";
import { useTranslation, makePath } from "../i18n";

import "../../styles/rehype-github-callouts.css";

const t = await useTranslation(Astro.currentLocale);
---

<html lang={Astro.currentLocale} class="scroll-pt-16">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body class="bg-slate-50 container mx-auto">
    <header
      class="bg-slate-50 py-2 px-8 border-b-2 border-slate-300 sticky top-0 h-16 flex items-center z-50 w-full"
    >
      <div class="flex items-center gap-8">
        <a href={makePath("/")}>
          <img src={logo.src} alt="VATPRC logo" class="h-8 -mt-2" />
        </a>
        <a href={makePath("/docs")}>
          <span class="font-bold">{t("Layout.menu.docs")}</span>
        </a>
        <a
          href={getRelativeLocaleUrl(
            Astro.currentLocale === "en" ? "zh-cn" : "en",
            Astro.originPathname.replace(`/${Astro.currentLocale}`, "")
          )}
        >
          <span>{t("Layout.menu.lang")}</span>
        </a>
      </div>
    </header>
    <div class="pt-4"><slot /></div>
    <footer class="mt-8 mb-4">
      <p class="text-slate-500" set:html={t("Layout.copyright")} />
    </footer>
  </body>
</html>
